<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>
  <div class="container mt-5">
    <h1>Admin Dashboard</h1>

    <h3>All Users</h3>
    <ul>
      <% users.forEach(user => { %>
        <li><%= user.name %> (<%= user.email %>) - <%= user.isAdmin ? "Admin" : "User" %></li>
      <% }) %>
    </ul>

    <h3 class="mt-4">Resumes</h3>
    <table class="table table-bordered">
      <thead>
        <tr><th>User</th><th>Summary</th><th>Featured</th><th>Toggle</th></tr>
      </thead>
      <tbody>
        <% resumes.forEach(r => { %>
          <tr>
            <td><%= r.user.name %></td>
            <td><%= r.summary.slice(0, 60) %>...</td>
            <td><%= r.featured ? "✅" : "❌" %></td>
            <td>
              <form method="POST" action="/admin/feature/<%= r._id %>">
                <button class="btn btn-sm <%= r.featured ? 'btn-danger' : 'btn-success' %>">
                  <%= r.featured ? "Unfeature" : "Feature" %>
                </button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</body>
</html>
